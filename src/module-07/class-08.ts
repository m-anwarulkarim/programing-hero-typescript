/*  
============================================================
ЁЯФе Polymorphism ржХрзА?
============================================================

Polymorphism рж╢ржмрзНржжрзЗрж░ ржЕрж░рзНрже тАФ тАЬржЕржирзЗржХ рж░ржХржо рж░рзВржктАЭред

Programming-ржП:
тЮбя╕П ржПржХржЗ ржирж╛ржорзЗрж░ ржорзЗржержб ржмрж┐ржнрж┐ржирзНржи ржХрзНрж▓рж╛рж╕рзЗ ржнрж┐ржирзНржи ржнрж┐ржирзНржиржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рж╛ржХрзЗ Polymorphism ржмрж▓рзЗред

ЁЯСЙ ржЙржжрж╛рж╣рж░ржг:
makeSound() ржирж╛ржорзЗрж░ ржПржХржЗ ржлрж╛ржВрж╢ржи тАФ
- Dog тЖТ "Woof!"
- Cat тЖТ "Meow!"
- Cow тЖТ "Hamba!"

ржХржорж╛ржирзНржб ржПржХржЯрж╛ржЗ тЖТ ржЖржЪрж░ржг ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ред
ржПржЯрж╛ржЗ Polymorphismред
*/

// ==========================================================
// ЁЯР╛ Parent Class
// ==========================================================

class Animal {
  makeSound() {
    console.log("Some generic sound...");
  }
}

// ==========================================================
// ЁЯР╢ Child Classes (Method Override тЖТ Polymorphism)
// ==========================================================

class Dog extends Animal {
  makeSound() {
    console.log("Woof! Woof!");
  }
}

class Cat extends Animal {
  makeSound() {
    console.log("Meow! Meow!");
  }
}

class Cow extends Animal {
  makeSound() {
    console.log("Hamba! Hamba!");
  }
}

// ==========================================================
// ЁЯОп Polymorphism in Action
// ==========================================================

function animalSound(animal: Animal) {
  /*
    тЭЧ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржмрж┐рж╖рзЯ:

    animalSound() рж╢рзБржзрзБ Animal ржЯрж╛ржЗржк ржЪрзЗржирзЗред
    ржХрж┐ржирзНрждрзБ Animal тЖТ Dog, Cat, Cow рж╕ржмржЗ рж╣рждрзЗ ржкрж╛рж░рзЗред

    рждрж╛ржЗ ржХрзЛржи makeSound() ржХрж▓ рж╣ржмрзЗ рждрж╛ ржирж┐рж░рзНржнрж░ ржХрж░ржмрзЗ:
    тЖТ ржХрзЛржи object ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ рждрж╛рж░ ржЙржкрж░ред
  */
  animal.makeSound();
}

const dog = new Dog();
const cat = new Cat();
const cow = new Cow();

animalSound(dog); // Woof! Woof!
animalSound(cat); // Meow! Meow!
animalSound(cow); // Hamba! Hamba!

/*  
============================================================
ЁЯзи ржПржЦрж╛ржирзЗ Polymorphism ржХрзЛржерж╛рзЯ?
============================================================

тЬФ ржПржХржЯрж╛ржЗ ржлрж╛ржВрж╢ржи: animalSound()
тЬФ ржПржХржЯрж╛ржЗ ржорзЗржержб: makeSound()
тЬФ ржХрж┐ржирзНрждрзБ ржмрж┐ржнрж┐ржирзНржи object ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржЪрж░ржг ржЖрж▓рж╛ржжрж╛ред

ржПржЯрж╛ржЗ Polymorphism.
*/

// ===================================================================
// ЁЯФ╖ ржЖрж░рзЗржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг тАФ Shape (Polymorphism ржЖрж░ржУ ржкрж░рж┐рж╖рзНржХрж╛рж░ржнрж╛ржмрзЗ ржмрзЛржЭрж╛рж░ ржЬржирзНржп)
// ===================================================================

class Shape {
  getErea(): number {
    // ржкрзНржпрж╛рж░рзЗржирзНржЯ ржХрзНрж▓рж╛рж╕рзЗ default ржорж╛ржи (placeholder)
    return 0;
  }
}

class Circle extends Shape {
  constructor(public radius: number) {
    super();
  }

  // override
  getErea(): number {
    return Math.PI * this.radius * this.radius;
  }
}

class Rectangle extends Shape {
  constructor(public width: number, public height: number) {
    super();
  }

  // override
  getErea(): number {
    return this.width * this.height;
  }
}

// Polymorphic function
function printArea(shape: Shape) {
  /*
    printArea() рж╢рзБржзрзБ Shape ржЯрж╛ржЗржк ржЧрзНрж░рж╣ржг ржХрж░рзЗред
    ржХрж┐ржирзНрждрзБ ржнрж┐рждрж░рзЗ Circle, Rectangle ржпрзЗржХрзЛржирзЛ object рж╣рждрзЗ ржкрж╛рж░рзЗред
  */
  console.log(shape.getErea());
}

printArea(new Circle(5)); // Circle ржПрж░ area
printArea(new Rectangle(4, 6)); // Rectangle ржПрж░ area

/*  
============================================================
ЁЯУМ ржкрзБрж░рзЛ ржзрж╛рж░ржгрж╛ ржПржХрж╕рж╛ржерзЗ (Full Explanation)
============================================================

1я╕ПтГг Shape рж╣рж▓рзЛ parent class  
   тЖТ ржПрж░ ржПржХржЯрж╛ common method ржЖржЫрзЗ: getErea()

2я╕ПтГг Circle ржУ Rectangle тЖТ Shape ржерзЗржХрзЗ extend  
   тЖТ рж╕ржмрж╛ржЗ getErea() ржорзЗржержб ржирж┐ржЬрзЗржжрзЗрж░ ржорждрзЛ ржХрж░рзЗ override ржХрж░рзЗржЫрзЗ

3я╕ПтГг printArea() ржлрж╛ржВрж╢ржи Shape ржЯрж╛ржЗржк ржирзЗрзЯ  
   тЖТ ржХрж┐ржирзНрждрзБ Circle/Rectangle ржкрж╛ржарж╛рж▓рзЗ рждрж╛ржжрзЗрж░ ржирж┐ржЬрж╕рзНржм getErea() execute рж╣рзЯ

тЮбя╕П ржПржХржЗ ржлрж╛ржВрж╢ржи (printArea)   
тЮбя╕П ржПржХржЗ method ржирж╛ржо (getErea)  
тЮбя╕П ржХрж┐ржирзНрждрзБ ржлрж▓рж╛ржлрж▓ ржЖрж▓рж╛ржжрж╛ тЖТ **Polymorphism**  
*/

// ===================================================================
// ЁЯУК рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк (Shortcut Table)
// ===================================================================

/*

| ржмрж┐рж╖рзЯ             | Parent Class           | Child Class                           |
|------------------|------------------------|----------------------------------------|
| Method           | ржерж╛ржХрзЗ (default)         | Override ржХрж░рж╛ ржпрж╛рзЯ                      |
| Object Type      | ржПржХржЯрж╛ржЗ (Parent)         | Parent-ржПрж░ рж╕ржм ржлрж┐ржЪрж╛рж░ + ржирж┐ржЬрзЗрж░ ржлрж┐ржЪрж╛рж░      |
| Polymorphism     | ржорзЗржЗржи ржнрж┐рждрзНрждрж┐ рждрзИрж░рж┐ ржХрж░рзЗ   | ржЖрж▓рж╛ржжрж╛ ржЖржЪрж░ржг ржжрзЗрзЯ                        |
| Function Control | Parent ржЯрж╛ржЗржк ржирзЗрзЯ         | Child object ржжрж┐рж▓рзЗ override method ржЪрж▓рзЗ  |

*/

/*  
============================================================
ЁЯОЙ Final Conclusion
============================================================

Polymorphism =  
ЁЯСЙ ржПржХржЗ function / method  
ЁЯСЙ ржмрж┐ржнрж┐ржирзНржи object  
ЁЯСЙ ржмрж┐ржнрж┐ржирзНржи ржЖржЪрж░ржг  

TypeScript-ржП inheritance + method overriding ржПрж░ ржорж╛ржзрзНржпржорзЗ Polymorphism ржЕрж░рзНржЬржи ржХрж░рж╛ рж╣рзЯред
*/
