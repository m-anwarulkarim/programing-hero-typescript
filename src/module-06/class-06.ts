//  Constraint (extends) in TypeScript

/* 
============================================
 Constraint কী?
============================================

TypeScript এ যখন আমরা Generics ব্যবহার করি, তখন সেই Generic টাইপ যে কোনো কিছু হতে পারে।
মানে — সেটা string, number, object বা অন্য কিছু হতে পারে।

কিন্তু কখনও কখনও আমরা চাই:
 “Generic টাইপ অন্তত এই structure টা মেনে চলবে।”

তাহলে আমরা Constraint ব্যবহার করি `extends` কীওয়ার্ড দিয়ে।

 => সহজভাবে বললে:
Constraint মানে হলো — 
 “Generic টাইপকে একটা নির্দিষ্ট সীমার মধ্যে রাখা।”  
অর্থাৎ, এই টাইপের মধ্যে অন্তত কিছু নির্দিষ্ট property থাকতে হবে।

*/

// ============================================
//  উদাহরণ ১: Constraint ছাড়া
// ============================================

// এখানে Generic টাইপ T যেকোনো কিছু হতে পারে।
const showInfo = <T>(value: T) => {
  return value;
};

// কাজ করবে:
showInfo({ name: "Anwarul", age: 22 });

// কিন্তু এটাও কাজ করবে
showInfo(500);
showInfo("hello");
showInfo(true);

// সমস্যা:
// আমরা চাই  এমন object নিতে, যার মধ্যে `name` এবং `age` থাকবেই।
// কিন্তু এখানে যেকোনো কিছু পাঠানো যাচ্ছে।
// তাই আমরা চাই টাইপটাকে সীমাবদ্ধ করতে।

// ============================================
// উদাহরণ ২: Constraint (extends) ব্যবহার করে
// ============================================

interface Person {
  name: string;
  age: number;
}

// এখন আমরা বলছি,
// Generic টাইপ `T` অবশ্যই `Person` টাইপকে extend করবে —
// অর্থাৎ, কমপক্ষে `name` এবং `age` property থাকতে হবে।
const constraint = <T extends Person>(value: T) => {
  return value;
};

// ✅ ঠিকভাবে কাজ করবে:
constraint({ name: "Anwarul", age: 22 });

// ✅ অতিরিক্ত property দিলেও কাজ করবে (কারণ TypeScript extra property allow করে)
constraint({ name: "Anwarul", age: 14, brand: "hello" });

// ❌ কিন্তু যদি `name` বা `age` না থাকে তাহলে error দেখাবে:
// constraint({ brand: "hello" }); ❌

// ============================================
//  কেন দরকার এই constraint?
// ============================================

//  ধরো আমরা শুধু এমন object নিয়েই কাজ করব,
// যেগুলোর মধ্যে name ও age থাকবে,
// তখন constraint আমাদের type-safety নিশ্চিত করে।
// এটা prevent করে যেকোনো ভুল টাইপ পাঠানো থেকে।

//  সংক্ষেপে:
//  extends ব্যবহার করে আমরা generics কে সীমাবদ্ধ করি।
//  এটা বলে দেয় যে, টাইপের মধ্যে অন্তত কোন properties থাকতে হবে।

/* 
============================================
 মনে রাখো:
- Constraint মানে শর্ত।
- Generics এর সঙ্গে `extends` মানে “এই টাইপটা অন্তত এই রকম হতে হবে”।
============================================
*/
